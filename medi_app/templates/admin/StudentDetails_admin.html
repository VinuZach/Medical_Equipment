{% extends "admin/admin_base.html" %}
{% block content %}
{% load static %}


{% if user.is_authenticated  %}
<!--        gallery section-->
<div id="galleryContainer" style="align-items: center; justify-content: center;margin: 5% 0px;align-content: stretch;
                      flex-direction: row;height:500px">


    <div style=" border-top: solid;
    padding-top: 53px;   font-weight: 600;margin-top:10px;margin-bottom: 20px;color:#2a4356;font-size: 30px; text-transform: uppercase;
    text-align: center;">Student Details

    </div>

    <div style="display: flex;margin-right:2%;
    justify-content: flex-end;">
        <div style="display: flex;flex-direction: row;    align-items: center;">
            <button style="margin:10px;    margin: 10px;
    background: var(--selected_text_color);
    color: white;
    padding: 10px 25px;

font-family: 'Open Sans', Arial, sans-serif;
    font-weight: 600;" onclick="prevPage({{prevOffset}})">Prev
            </button>
            <div style="margin:10px;height:fit-content;
font-family: 'Open Sans', Arial, sans-serif;">{{index}}
            </div>
            {% if studentDetails|length > 0 %}
            <button style="margin:10px;    margin: 10px;
    background: var(--selected_text_color);
    color: white;
    padding: 10px 25px;

font-family: 'Open Sans', Arial, sans-serif;
    font-weight: 600;" onclick="nextPage({{nextOffset}})">Next
            </button>
            {% endif %}

        </div>

    </div>
    <div id="galleryParent"
         style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 0fr));justify-content: center; gap: 10px;    margin: 3%;">
        {% if studentDetails|length == 0 %}
        Not Students in this index
        {% endif %}
        {% for student in studentDetails %}
        <div id="galleryItem" style="padding: 10px;border: 2px solid #0d24ff; margin: 10px;"
             onclick="displayIndividualStudent({{student.id}})">
            <div style="text-transform: capitalize; font-size: 28px; color: gray;
font-family: 'Open Sans', Arial, sans-serif;">{{student.student_name}}
            </div>
            <div>{{student.selectedCourse}}</div>
            <br>
            <br>
            <br>
            <div style="font-family: 'Open Sans', Arial, sans-serif;"><b>{{student.last_attended_school}}</b> :
                {{student.last_attended_school_qual}}
            </div>
            <div style="font-family: 'Open Sans', Arial, sans-serif;">{{student.year_of_passing}}</div>
        </div>
        {% endfor %}
    </div>

    <form method="POST" style="display:none" enctype="multipart/form-data">
        {% csrf_token %}
        <input id="stu" name="studentID">
        <button id="submitButton" type="submit"></button>
    </form>
</div>
{% else %}
Authentication Required <a href="adminHome">Go to Login</a>

{% endif %}
<script>

    function nextPage(nextOffset){
console.log(nextOffset)
	window.location.href = '{{ request.scheme }}://{{ request.get_host }}'+'/home/health_admin_studentDetails/'+nextOffset;
}

 function prevPage(prevOffset){
console.log(prevOffset)
	window.location.href = '{{ request.scheme }}://{{ request.get_host }}'+'/home/health_admin_studentDetails/'+prevOffset;
}

function displayIndividualStudent(studentID)
{

console.log(studentID)
studentSubmit=document.getElementById("stu");
submitButton=document.getElementById("submitButton");

studentSubmit.value=studentID
console.log(studentSubmit)
submitButton.click()
}







</script>
{% endblock %}